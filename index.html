<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>
<body>

    <script>

        //This function determines computer's choice of rock, paper, or scissors
        function getComputerChoice(){
           let computerPlay = ['rock','paper','scissors'];
           let computerSelection = computerPlay[Math.floor(Math.random() * 3)];
           return computerSelection;
        }

        //This function plays a round of Rock, Paper, Scissors
        //User input is tested against computer choice to determine a winner
        function gameplay(playerSelection, computerSelection){

           playerSelection = playerSelection.toLowerCase();

           console.log('You chose ' + playerSelection + '!');
           console.log('The computer chose ' + computerSelection + '!');

           //Win/lose/tie scenarios
           switch(playerSelection){
                case 'rock':
                    if(computerSelection === 'rock'){
                        console.log('Same choice, it\'s a tie!');
                        return 'tie';
                    }
                    else if(computerSelection === 'paper'){
                        console.log('Paper beats rock. You lose!');
                        return 0;
                    }
                    else {
                        console.log('Rock beats scissors. You win!');
                        return 1;
                    }
                case 'paper':
                    if(computerSelection === 'rock'){
                        console.log('Paper beats rock. You win!');
                        return 1;
                    }
                    else if(computerSelection === 'paper'){
                        console.log('Same choice, it\'s a tie!');
                        return 'tie';
                    }
                    else {
                        console.log('Scissors beats paper. You lose!');
                        return 0;
                    }
                case 'scissors':
                    if(computerSelection === 'rock'){
                        console.log('Rock beats scissors. You lose!');
                        return 0;
                    }
                    else if(computerSelection === 'paper'){
                        console.log('Scissors beats paper. You win!');
                        return 1;
                    }
                    else {
                        console.log('Same choice, it\'s a tie!');
                        return 'tie';
                    }
                default:
                    return 'invalid'
           }
        }

        /*
        Play a five round game of rock paper scissors
        call gameplay function to play the full 5 rounds
        keep score
        report winner/loser at the end of the game

        for(counter for five rounds of play)
            computer score = 0
            player score = 0
            round = 0
            gameplay()
            if(gameplay === win)
                playerScore += 1
            else
                computerScore += 1
        EXIT

        after five rounds, if(playerScore > computer score)
            return You Win
        else
            return Computer wins
        EXIT
        */
        function game(){
            for(let round = 0; round < 5; round++){
                let computerScore = 0;
                let playerScore = 0;
                const playerSelection = prompt('Rock, paper, or scissors?')
                const computerSelection = getComputerChoice();
                if(gameplay(playerSelection, computerSelection) === 1){
                    playerScore += 1;
                    console.log('a');
                }
                else if(gameplay(playerSelection, computerSelection) === 0){
                    console.log('b');
                    computerScore += 1;
                }
                else {
                    console.log('Please enter a valid choice');
                }
            }
            //return gameplay;
        }

        //const playerSelection = prompt('Rock, paper, or scissors?')
        //const computerSelection = getComputerChoice();
        console.log(game());

    </script>

</body>
</html>